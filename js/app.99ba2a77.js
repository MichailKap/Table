(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/Table/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("vTable")],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",{staticClass:"px-10",attrs:{fluid:""}},[a("v-row",{staticClass:"pa-0 ma-0",attrs:{align:"center",justify:"space-between"}},[a("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12",md:"7"}},[a("v-card-title",{staticClass:"pa-0 ma-0"},[e._v(" Занимаемые должности ")])],1),a("v-col",{staticClass:"pa-0 ma-0",attrs:{cols:"12",md:"5"}},[a("v-card-title",{staticClass:"pa-0 ma-0"},[a("v-text-field",{attrs:{type:"text",label:"Поиск по сотруднику","append-icon":"mdi-magnify"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1)],1),a("v-row",{staticClass:"pa-0 ma-0",attrs:{align:"center",justify:"end"}},[a("div",{staticClass:"checkbox"},[a("v-checkbox",{staticClass:"mr-5 mb-10",attrs:{label:"Показать уволенных",color:"success"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),a("v-btn",{staticClass:"mr-5 mb-10",attrs:{normal:"",color:"green lighten-3"}},[e._v("Принять на должность")]),a("v-btn",{staticClass:"mb-10",attrs:{normal:"",color:"green lighten-3",disabled:0===e.selectedRows.length},on:{click:function(t){return e.toFire()}}},[e.selectedRows.length<=1?a("span",[e._v("Снять с должности")]):e._e(),e.selectedRows.length>1?a("span",[e._v("Снять с должностей")]):e._e()])],1),a("v-data-table",{attrs:{headers:e.headers,items:e.occupations,"item-key":"name"},scopedSlots:e._u([{key:"item",fn:function(t){return[e.checked||null===t.item.fireDate?a("tr",{class:{"grey lighten-2":e.selectedRows.includes(t.item)&&null===t.item.fireDate,"red lighten-2 disabled":null!==t.item.fireDate},on:{click:function(a){null===t.item.fireDate&&e.rowClicked(t.item)}}},[a("td",[e._v(e._s(t.item.name))]),a("td",[e._v(e._s(t.item.companyName))]),a("td",[e._v(e._s(t.item.positionName))]),a("td",[e._v(e._s(t.item.hireDate.replace(/(\d+)-(\d+)-(\d+)/,"$3.$2.$1")))]),a("td",[e._v(e._s("string"===typeof t.item.fireDate?t.item.fireDate.replace(/(\d+)-(\d+)-(\d+)/,"$3.$2.$1"):t.item.fireDate)+" ")]),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.salary,large:"",persistent:"","cancel-text":"Отменить","save-text":"Сохранить"},on:{"update:returnValue":function(a){return e.$set(t.item,"salary",a)},"update:return-value":function(a){return e.$set(t.item,"salary",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-row",[a("v-col",{staticStyle:{width:"100px"},attrs:{cols:"12",md:"6"}},[a("div",{staticClass:"mt-3"},[e._v("Ставка, ₽")]),a("v-text-field",{attrs:{type:"number"},model:{value:t.item.salary,callback:function(a){e.$set(t.item,"salary",a)},expression:"props.item.salary"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("div",{staticClass:"mt-3"},[e._v("Ставка, %")]),a("v-text-field",{attrs:{type:"number"},model:{value:t.item.fraction,callback:function(a){e.$set(t.item,"fraction",a)},expression:"props.item.fraction"}})],1)],1)]},proxy:!0}],null,!0),model:{value:t.item.fraction,callback:function(a){e.$set(t.item,"fraction",a)},expression:"props.item.fraction"}},[a("div",[e._v(e._s(t.item.salary)+" ₽ ("+e._s(t.item.fraction)+")%")])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.base,large:"",persistent:"","cancel-text":"Отменить","save-text":"Сохранить"},on:{"update:returnValue":function(a){return e.$set(t.item,"base",a)},"update:return-value":function(a){return e.$set(t.item,"base",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-3"},[e._v("База, ₽")]),a("v-text-field",{attrs:{type:"number"},model:{value:t.item.base,callback:function(a){e.$set(t.item,"base",a)},expression:"props.item.base"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.item.base))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.item.advance,large:"",persistent:"","cancel-text":"Отменить","save-text":"Сохранить"},on:{"update:returnValue":function(a){return e.$set(t.item,"advance",a)},"update:return-value":function(a){return e.$set(t.item,"advance",a)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-3"},[e._v("Аванс, ₽")]),a("v-text-field",{attrs:{type:"number"},model:{value:t.item.advance,callback:function(a){e.$set(t.item,"advance",a)},expression:"props.item.advance"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.item.advance))])])],1),a("td",[a("v-simple-checkbox",{attrs:{color:"success"},model:{value:t.item.byHours,callback:function(a){e.$set(t.item,"byHours",a)},expression:"props.item.byHours"}})],1)]):e._e()]}}])}),a("div",[e._v("Массив с выделенными строками: "),a("br"),e._v(" "+e._s(e.selectedRows)+" ")]),a("div",[e._v("Данные полученные с сервера: "),a("br"),e._v(" "+e._s(e.occupations)+" ")])],1)],1)},o=[],c=(a("4de4"),a("caad"),a("d81d"),a("b0c0"),a("2532"),a("4d90"),a("96cf"),a("1da1")),l=a("bc3a"),u=a.n(l),d={name:"vTable",components:{},data:function(){return{search:"",name:"",checked:!1,selectedRows:[],disable:!0,occupations:[]}},methods:{toFire:function(){this.selectedRows.map((function(e,t,a){e.fireDate=new Date;var n=String(e.fireDate.getDate()).padStart(2,"0"),r=String(e.fireDate.getMonth()+1).padStart(2,"0"),s=e.fireDate.getFullYear();e.fireDate=n+"."+r+"."+s})),this.selectedRows.length=0},rowClicked:function(e){this.toggleSelection(e)},toggleSelection:function(e){this.selectedRows.includes(e)?this.selectedRows=this.selectedRows.filter((function(t){return t!==e})):this.selectedRows.push(e)}},computed:{headers:function(){var e=this;return[{text:"Сотрудник",value:"name",filter:function(t){return(t+"").toLowerCase().includes(e["name"].toLowerCase())}},{text:"Компания",value:"companyName"},{text:"Должность",value:"positionName"},{text:"Дата приема",value:"hireDate"},{text:"Дата увольнения",value:"fireDate"},{text:"Ставка",value:"salary"},{text:"База",value:"base"},{text:"Аванс",value:"advance"},{text:"Почасовая",value:"byHours"}]}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u()({method:"POST",url:"http://127.0.0.2:8000/graphql/",data:{query:"\n    \t\t\t\t{\n\t\t\t\t\t  occupations {\n              id\n              name\n              companyName\n              positionName\n              hireDate\n              fireDate\n              salary\n              fraction\n              base\n              advance\n              byHours\n            }\n\t\t\t\t\t}\n    \t\t\t\t"}});case 3:a=t.sent,e.occupations=a.data.data.occupations,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},p=d,v=(a("76a5"),a("2877")),m=a("6544"),f=a.n(m),b=a("7496"),h=a("8336"),y=a("99d9"),x=a("ac7c"),_=a("62ad"),g=a("a523"),w=a("8fea"),k=a("7679"),C=a("0fd9"),D=a("9e88"),$=a("8654"),S=Object(v["a"])(p,i,o,!1,null,null,null),R=S.exports;f()(S,{VApp:b["a"],VBtn:h["a"],VCardTitle:y["a"],VCheckbox:x["a"],VCol:_["a"],VContainer:g["a"],VDataTable:w["a"],VEditDialog:k["a"],VRow:C["a"],VSimpleCheckbox:D["a"],VTextField:$["a"]});var O={name:"App",components:{vTable:R}},V=O,j=Object(v["a"])(V,r,s,!1,null,null,null),T=j.exports;f()(j,{VApp:b["a"]});var P=a("2f62");n["a"].use(P["a"]);var N=new P["a"].Store({state:{},mutations:{},actions:{},getters:{},modules:{}}),H=a("f309"),M=a("5607");n["a"].use(H["a"],{directives:{Ripple:M["a"]}});var F=new H["a"]({});n["a"].config.productionTip=!1,new n["a"]({store:N,vuetify:F,render:function(e){return e(T)}}).$mount("#app")},"694f":function(e,t,a){},"76a5":function(e,t,a){"use strict";var n=a("694f"),r=a.n(n);r.a}});
//# sourceMappingURL=app.99ba2a77.js.map